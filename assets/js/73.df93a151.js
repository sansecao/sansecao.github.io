(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{496:function(e,s,n){"use strict";n.r(s);var a=n(43),t=Object(a.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"索引"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[e._v("#")]),e._v(" 索引")]),e._v(" "),n("ul",[n("li",[e._v("什么是索引？有什么用？怎么创建？怎么删除？什么考虑给字段添加索引")])]),e._v(" "),n("ol",[n("li",[n("p",[e._v("索引就相当于一本书的目录，通过目录可以快速找到对应的资源\n在数据库方面，查询一张表的时候有两种索引方式：\n第一种：全表扫描\n第二种：根据索引检索（效率很高）")])]),e._v(" "),n("li",[n("p",[e._v("索引为什么可以提高检索效率，其实就是减小了扫描范围\n注意：索引虽然可以提高检索效率，但是不能随意添加索引，因为索引也是数据库当中的对象，也需要数据库不断的维护，是由维护成本的，eg：标中的数据经常被修改这样就不合适添加索引，因为数据一旦修改，索引需要重新排序，进行维护")])])]),e._v(" "),n("p",[e._v("select ename,sal from where ename='SMISH';")]),e._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[e._v("数据量庞大、该字段很少的DML操作、该字段经常出现在where子句中")])]),e._v(" "),n("p",[e._v("注意：主键和具有unique约束的字段会自动添加索引---\x3e 根据主键查询会快")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("mysql> explain select ename,sal from emp where sal=5000;\n+----+-------------+-------+------+---------------+------+---------+------+------+-------------+\n| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows | Extra       |\n+----+-------------+-------+------+---------------+------+---------+------+------+-------------+\n|  1 | SIMPLE      | emp   | ALL  | NULL          | NULL | NULL    | NULL |   14 | Using where |\n+----+-------------+-------+------+---------------+------+---------+------+------+-------------+\n1 row in set (0.04 sec)\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("create index emp_sal_index on emp(sal);\n\nmysql> create index emp_sal_index on emp(sal);\nQuery OK, 0 rows affected (0.09 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql> explain select ename,sal from emp where sal=5000;\n+----+-------------+-------+------+---------------+---------------+---------+-------+------+-------------+\n| id | select_type | table | type | possible_keys | key           | key_len | ref   | rows | Extra       |\n+----+-------------+-------+------+---------------+---------------+---------+-------+------+-------------+\n|  1 | SIMPLE      | emp   | ref  | emp_sal_index | emp_sal_index | 9       | const |    1 | Using where |\n+----+-------------+-------+------+---------------+---------------+---------+-------+------+-------------+\n1 row in set (0.00 sec)\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[e._v("drop index 索引字段 on 表名；")])]),e._v(" "),n("ul",[n("li",[e._v("索引底层采用的数据结构的是： B+Tree缩小扫描范围，底层索引进行了排序，分区，索引会携带数据在标中的“物理地址”，最终通过索引检索数据之后，获取到关联的物理地址，通过物理地址定位标中的数据，效率是最高的")])]),e._v(" "),n("p",[e._v("select ename from emp where ename='smith';\n通过索引转换为：\nselect ename from emp where 物理地址=0x3;")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("索引的分类？\n单一索引：给单个字段添加索引\n复合索引：给多个字段联合起来添加1个索引\n主键索引：给多个字段联合起来添加1个索引\n唯一索引：有unique约束的字段会自动添加索引")])]),e._v(" "),n("li",[n("p",[e._v("索引什么时候失效？\nselect ename from emp where ename like '%A%';")])])]),e._v(" "),n("p",[e._v("模糊查询的时候，第一个通配符使用的是%，这个时候索引是失效的。")])])}),[],!1,null,null,null);s.default=t.exports}}]);